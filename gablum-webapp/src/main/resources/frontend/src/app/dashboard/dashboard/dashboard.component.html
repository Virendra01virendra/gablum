

<mat-toolbar color="primary">
  <mat-icon class="title-icon">dashboard</mat-icon>
  <span class="title" fxHide.xs>Dashboard</span>
  <div class="hider" fxFlex="row" fxLayoutAlign=" space-around end" [hidden]="!isSeller && !isBuyer">
  <button mat-raised-button (click)=toggle() matTooltip="Toggle between both views">{{buttonName}}</button>
</div>
</mat-toolbar>
<!--tab for seller-->
<ng-container *ngIf="isSeller && !isBuyer" class="dashboard-container">
  <mat-tab-group class="tab-container" fxLayoutGap="5px" fxHide.xs>
    <mat-tab label="Active Auctions">
      <p>active auctions</p>
      <div class="auctions-cont" fxLayout="row wrap" fxLayoutAlign="space-around" fxLayoutGap="15px">
        <app-auction-card *ngFor="let auction of auctions" [auction]="auction"></app-auction-card>
      </div>
    </mat-tab>
    <mat-tab label="Active Proposals">
      <p>active proposals(seller)</p>
      <div fxLayout="row" fxLayoutAlign="space-around" fxLayoutGap="15px">
        <app-seller-proposal-card *ngFor="let allProposal of allProposals" [allProposal]="allProposal">
        </app-seller-proposal-card>
      </div>
    </mat-tab>
    <mat-tab label="Past Auctions">
      <p>past auctions</p>
    </mat-tab>
  </mat-tab-group>
  <!--expansion panel for seller-->
  <mat-accordion class="tab-container" fxHide.gt-xs>
    <mat-expansion-panel [expanded]=true>
      <mat-expansion-panel-header>
        <mat-panel-title>Active Auctions</mat-panel-title>
        <mat-panel-description></mat-panel-description>
      </mat-expansion-panel-header>
      <div class="expansion-auction-card" fxLayout="column">
        <app-auction-card *ngFor="let auction of auctions" [auction]="auction"></app-auction-card>
      </div>
    </mat-expansion-panel>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>Active Proposals</mat-panel-title>
        <mat-panel-description></mat-panel-description>
      </mat-expansion-panel-header>
      <div class="expansion-proposal-card" fxLayout="column">
        <app-seller-proposal-card *ngFor="let allProposal of allProposals" [allProposal]="allProposal">
        </app-seller-proposal-card>
      </div>
    </mat-expansion-panel>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>Past Auctions</mat-panel-title>
        <mat-panel-description></mat-panel-description>
      </mat-expansion-panel-header>
      <div>
        <p>past auctions</p>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</ng-container>
<div class="fab-container" fxLayout="column nowrap">
    <a mat-fab class="add-proposal-button" matTooltip="browse all active proposals" [routerLink]="['/browse']"
      *ngIf="isSeller && !isBuyer">
      <mat-icon>list</mat-icon>
    </a>
  </div>
<!--Tab for buyer-->
<ng-container *ngIf="isBuyer && !isSeller" class="dashboard-container">
  <mat-tab-group class="tab-container" fxLayoutGap="5px" fxHide.xs>
    <mat-tab label="Active Auctions">
      <div class="auctions-card" fxLayout="row wrap" fxLayoutAlign="space-around" fxLayoutGap="15px">
        <app-auction-card *ngFor="let auction of auctions" [auction]="auction"></app-auction-card>
      </div>
    </mat-tab>
    <mat-tab label="Active Proposals">
      <div class="proposal-card" fxLayout="row wrap" fxLayoutAlign="space-around" fxLayoutGap="15px">
        <app-new-proposal-card *ngFor="let proposal of proposals" [proposal]="proposal"></app-new-proposal-card>
      </div>
    </mat-tab>
    <mat-tab label="Past Auctions">
      <p>past auctions</p>
    </mat-tab>
  </mat-tab-group>
  <!--expansion panel for buyer-->
  <mat-accordion class="tab-container" fxHide.gt-xs>
    <mat-expansion-panel [expanded]="true">
      <mat-expansion-panel-header>
        <mat-panel-title>Active Auctions</mat-panel-title>
        <mat-panel-description></mat-panel-description>
      </mat-expansion-panel-header>
      <div class="expansion-auction-card" fxLayout="column">
        <app-auction-card *ngFor="let auction of auctions" [auction]="auction"></app-auction-card>
      </div>
    </mat-expansion-panel>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>Active Proposals</mat-panel-title>
        <mat-panel-description></mat-panel-description>
      </mat-expansion-panel-header>
      <div class="expansion-proposal-card" fxLayout="column">
        <app-new-proposal-card *ngFor="let proposal of proposals" [proposal]="proposal">
        </app-new-proposal-card>
      </div>
    </mat-expansion-panel>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>Past Auctions</mat-panel-title>
        <mat-panel-description></mat-panel-description>
      </mat-expansion-panel-header>
      <div>
        <p>past auctions</p>
      </div>
    </mat-expansion-panel>
  </mat-accordion>
</ng-container>
<div class="fab-container" fxLayout="column nowrap">
    <a mat-fab class="add-proposal-button" matTooltip="add a new proposal" [routerLink]="['/floatProposal']"
      *ngIf="isBuyer &&!isSeller">
      <mat-icon>add</mat-icon>
    </a>
  </div>

<ng-container *ngIf="isBuyer && isSeller">
  <!-- tab for buyer when both buyer and seller -->
    <ng-container *ngIf="isBuyer && show" class="dashboard-container">
        <mat-tab-group class="tab-container" fxLayoutGap="5px" fxHide.xs>
          <mat-tab label="Active Auctions">
            <div class="auctions-card" fxLayout="row wrap" fxLayoutAlign="space-around" fxLayoutGap="15px">
              <app-auction-card *ngFor="let auction of auctions" [auction]="auction"></app-auction-card>
            </div>
          </mat-tab>
          <mat-tab label="Active Proposals">
            <div class="proposal-card" fxLayout="row wrap" fxLayoutAlign="space-around" fxLayoutGap="15px">
              <app-new-proposal-card *ngFor="let proposal of proposals" [proposal]="proposal"></app-new-proposal-card>
            </div>
          </mat-tab>
          <mat-tab label="Past Auctions">
            <p>past auctions</p>
          </mat-tab>
        </mat-tab-group>
        <!--expansion panel for buyer-->
        <mat-accordion class="tab-container" fxHide.gt-xs>
          <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
              <mat-panel-title>Active Auctions</mat-panel-title>
              <mat-panel-description></mat-panel-description>
            </mat-expansion-panel-header>
            <div class="expansion-auction-card" fxLayout="column">
              <app-auction-card *ngFor="let auction of auctions" [auction]="auction"></app-auction-card>
            </div>
          </mat-expansion-panel>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>Active Proposals</mat-panel-title>
              <mat-panel-description></mat-panel-description>
            </mat-expansion-panel-header>
            <div class="expansion-proposal-card" fxLayout="column">
              <app-new-proposal-card *ngFor="let proposal of proposals" [proposal]="proposal">
              </app-new-proposal-card>
            </div>
          </mat-expansion-panel>
          <mat-expansion-panel>
            <mat-expansion-panel-header>
              <mat-panel-title>Past Auctions</mat-panel-title>
              <mat-panel-description></mat-panel-description>
            </mat-expansion-panel-header>
            <div>
              <p>past auctions</p>
            </div>
          </mat-expansion-panel>
        </mat-accordion>
      </ng-container>
      <div class="fab-container" fxLayout="column nowrap">
          <a mat-fab class="add-proposal-button" matTooltip="add a new proposal" [routerLink]="['/floatProposal']"
            *ngIf="isBuyer && show">
            <mat-icon>add</mat-icon>
          </a>
        </div>

      <!-- tab for seller when both buyer and seller  -->
      <ng-container *ngIf="isSeller && !show" class="dashboard-container">
          <mat-tab-group class="tab-container" fxLayoutGap="5px" fxHide.xs>
            <mat-tab label="Active Auctions">
              <div class="auctions-card" fxLayout="row wrap" fxLayoutAlign="space-around" fxLayoutGap="15px">
                <app-auction-card *ngFor="let auction of auctions" [auction]="auction"></app-auction-card>
              </div>
            </mat-tab>
            <mat-tab label="Active Proposals">
              <div class="proposal-card" fxLayout="row wrap" fxLayoutAlign="space-around" fxLayoutGap="15px">
                <app-new-proposal-card *ngFor="let proposal of proposals" [proposal]="proposal"></app-new-proposal-card>
              </div>
            </mat-tab>
            <mat-tab label="Past Auctions">
              <p>past auctions</p>
            </mat-tab>
          </mat-tab-group>
          <!--expansion panel for buyer-->
          <mat-accordion class="tab-container" fxHide.gt-xs>
            <mat-expansion-panel [expanded]="true">
              <mat-expansion-panel-header>
                <mat-panel-title>Active Auctions</mat-panel-title>
                <mat-panel-description></mat-panel-description>
              </mat-expansion-panel-header>
              <div class="expansion-auction-card" fxLayout="column">
                <app-auction-card *ngFor="let auction of auctions" [auction]="auction"></app-auction-card>
              </div>
            </mat-expansion-panel>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>Active Proposals</mat-panel-title>
                <mat-panel-description></mat-panel-description>
              </mat-expansion-panel-header>
              <div class="expansion-proposal-card" fxLayout="column">
                <app-new-proposal-card *ngFor="let proposal of proposals" [proposal]="proposal">
                </app-new-proposal-card>
              </div>
            </mat-expansion-panel>
            <mat-expansion-panel>
              <mat-expansion-panel-header>
                <mat-panel-title>Past Auctions</mat-panel-title>
                <mat-panel-description></mat-panel-description>
              </mat-expansion-panel-header>
              <div>
                <p>past auctions</p>
              </div>
            </mat-expansion-panel>
          </mat-accordion>
        </ng-container>

        <div class="fab-container" fxLayout="column nowrap">
            <a mat-fab class="add-proposal-button" matTooltip="browse all active proposals" [routerLink]="['/browse']"
              *ngIf="isSeller && !show">
              <mat-icon>list</mat-icon>
            </a>
          </div>

</ng-container>
<!--add and browse buttons-->
<!-- <div class="fab-container" fxLayout="column nowrap">
  <a mat-fab class="add-proposal-button" matTooltip="browse all active proposals" [routerLink]="['/browse']"
    *ngIf="isSeller && !isBuyer">
    <mat-icon>list</mat-icon>
  </a>
</div>
  <div class="fab-container" fxLayout="column nowrap">
  <a mat-fab class="add-proposal-button" matTooltip="add a new proposal" [routerLink]="['/floatProposal']"
    *ngIf="isBuyer &&!isSeller">
    <mat-icon>add</mat-icon>
  </a>
</div> -->


